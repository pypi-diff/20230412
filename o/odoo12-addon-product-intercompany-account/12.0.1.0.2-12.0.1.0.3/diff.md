# Comparing `tmp/odoo12_addon_product_intercompany_account-12.0.1.0.2-py3-none-any.whl.zip` & `tmp/odoo12_addon_product_intercompany_account-12.0.1.0.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,23 +1,23 @@
-Zip file size: 25176 bytes, number of entries: 21
--rw-r--r--  2.0 unx     2889 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/__init__.py
--rw-r--r--  2.0 unx      583 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/__manifest__.py
--rw-r--r--  2.0 unx     3077 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/i18n/product_intercompany_account.pot
--rw-r--r--  2.0 unx      157 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/models/__init__.py
--rw-r--r--  2.0 unx     1487 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/models/account_invoice.py
--rw-r--r--  2.0 unx      879 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/models/account_invoice_line.py
--rw-r--r--  2.0 unx      621 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/models/product_category.py
--rw-r--r--  2.0 unx     1055 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/models/product_template.py
--rw-r--r--  2.0 unx      666 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/models/sale_order_line.py
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      167 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     9455 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/static/description/icon.png
--rw-r--r--  2.0 unx    12103 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/static/description/index.html
--rw-r--r--  2.0 unx       41 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/tests/__init__.py
--rw-r--r--  2.0 unx     3629 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py
--rw-r--r--  2.0 unx     1525 b- defN 23-Jan-20 16:15 odoo/addons/product_intercompany_account/views/product_view.xml
--rw-r--r--  2.0 unx     3494 b- defN 23-Jan-20 16:15 odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-20 16:15 odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jan-20 16:15 odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2506 b- defN 23-Jan-20 16:15 odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/RECORD
-21 files, 44544 bytes uncompressed, 20800 bytes compressed:  53.3%
+Zip file size: 25220 bytes, number of entries: 21
+-rw-r--r--  2.0 unx     2889 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/__init__.py
+-rw-r--r--  2.0 unx      583 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/__manifest__.py
+-rw-r--r--  2.0 unx     3077 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/i18n/product_intercompany_account.pot
+-rw-r--r--  2.0 unx      157 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/__init__.py
+-rw-r--r--  2.0 unx     1487 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/account_invoice.py
+-rw-r--r--  2.0 unx      879 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/account_invoice_line.py
+-rw-r--r--  2.0 unx      621 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/product_category.py
+-rw-r--r--  2.0 unx     1055 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/product_template.py
+-rw-r--r--  2.0 unx      751 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/sale_order_line.py
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      167 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/static/description/icon.png
+-rw-r--r--  2.0 unx    12103 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/static/description/index.html
+-rw-r--r--  2.0 unx       41 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/tests/__init__.py
+-rw-r--r--  2.0 unx     3629 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py
+-rw-r--r--  2.0 unx     1525 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/views/product_view.xml
+-rw-r--r--  2.0 unx     3494 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2506 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD
+21 files, 44629 bytes uncompressed, 20844 bytes compressed:  53.3%
```

## zipnote {}

```diff
@@ -45,20 +45,20 @@
 
 Filename: odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py
 Comment: 
 
 Filename: odoo/addons/product_intercompany_account/views/product_view.xml
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/METADATA
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/WHEEL
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/top_level.txt
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/RECORD
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/product_intercompany_account/__manifest__.py

```diff
@@ -1,12 +1,12 @@
 # Copyright 2021 ForgeFlow S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 {
     'name': 'Product Intercompany Account',
-    'version': '12.0.1.0.2',
+    'version': '12.0.1.0.3',
     'summary': 'Change the income and COGS accounts in intercompany transactions',
     'author': 'ForgeFlow S.L., Odoo Community Association (OCA)',
     'website': 'https://github.com/OCA/multi-company',
     'license': 'LGPL-3',
     'depends': ['sale_stock', 'account'],
     "data": [
         "views/product_view.xml",
```

## odoo/addons/product_intercompany_account/models/sale_order_line.py

```diff
@@ -1,18 +1,20 @@
-from odoo import models
+from odoo import api, models
 
 
 class SaleOrderLine(models.Model):
     _inherit = "sale.order.line"
 
+    @api.multi
     def _prepare_invoice_line(self, qty):
         res = super(SaleOrderLine, self)._prepare_invoice_line(qty)
 
         our_companies = self.env['res.company'].search(
             [('partner_id', '=', self.order_id.partner_id.id)]
         )
-        product_level = self.product_id.property_account_income_intercompany
-        categ = self.product_id.categ_id.property_account_income_categ_intercompany
+        product = self.product_id.with_context(force_company=self.company_id.id)
+        product_level = product.property_account_income_intercompany
+        categ = product.categ_id.property_account_income_categ_intercompany
         if our_companies and (product_level or categ):
             account = product_level or categ
             res.update({'account_id': account.id})
         return res
```

## Comparing `odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/METADATA` & `odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo12-addon-product-intercompany-account
-Version: 12.0.1.0.2
+Version: 12.0.1.0.3
 Summary: Change the income and COGS accounts in intercompany transactions
 Home-page: https://github.com/OCA/multi-company
 Author: ForgeFlow S.L., Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/RECORD` & `odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,21 +1,21 @@
 odoo/addons/product_intercompany_account/README.rst,sha256=rrvvNwyxRYP-zlkb-hZqltaBOKfyQK9VqN02F68Ql1s,2889
 odoo/addons/product_intercompany_account/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/product_intercompany_account/__manifest__.py,sha256=issxfiOvMGtbhvaDXPnaVlrmEasmp07Rz6FJCAhTWyE,583
+odoo/addons/product_intercompany_account/__manifest__.py,sha256=C9ySEoit1gUKshuei3Srd7aH4NO1s9bA4aDuWyjp9HY,583
 odoo/addons/product_intercompany_account/i18n/product_intercompany_account.pot,sha256=eRKF1wlV8gxTYhVoacQ5IQ8Gf4pdtZK60cTXDs1DSmE,3077
 odoo/addons/product_intercompany_account/models/__init__.py,sha256=LDlmGre6Q-lhI0_xvLtgRxaTfJYwAHy-rhbPWJGyOvU,157
 odoo/addons/product_intercompany_account/models/account_invoice.py,sha256=TJY_AnigQFdwfu2Dvr8gUAHeNnSgnk5TTOG4y_AEg_k,1487
 odoo/addons/product_intercompany_account/models/account_invoice_line.py,sha256=QY_oZ5vmlrWK0fUISDLHU3ujiWpJLoWlt4ruhJqlaF8,879
 odoo/addons/product_intercompany_account/models/product_category.py,sha256=heJBJ_f9VylYa_-QCFCknFGOsMU0nzbWyim5gZmvmCU,621
 odoo/addons/product_intercompany_account/models/product_template.py,sha256=kZUPG751ROw3QgnutBSI3fDZmisp5aAyyaIa5ZMYd0Q,1055
-odoo/addons/product_intercompany_account/models/sale_order_line.py,sha256=2j1r5cvIEe_ifJd928YzTvSFmKngqFyZ61EiXLbD8uM,666
+odoo/addons/product_intercompany_account/models/sale_order_line.py,sha256=2p-RpjNx3-B8iGtvdkf0t0RchJPj-X2Vh5bzDFrO-Q4,751
 odoo/addons/product_intercompany_account/readme/CONTRIBUTORS.rst,sha256=eQcZX80aCkqcmDKoG-hRRz3zftmxJA8iFh0vKdDsS7Q,92
 odoo/addons/product_intercompany_account/readme/DESCRIPTION.rst,sha256=UxEyL4Ax3-CJcqT6AXjHbZOK2RFquX9k2grVRXh8AMM,167
 odoo/addons/product_intercompany_account/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/product_intercompany_account/static/description/index.html,sha256=DevC0vEzywcXICKggfIYOTLQv9CgBycJSa35GgNWKxE,12103
 odoo/addons/product_intercompany_account/tests/__init__.py,sha256=UsnfhWjC5ws39aguSiY9BI-lZHIavg4HkjhanFmVJYg,41
 odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py,sha256=IC0eQqUAVOkE1eMAvryA0nYKAb9jYnTi-L67pAtCFjE,3629
 odoo/addons/product_intercompany_account/views/product_view.xml,sha256=mcSUOGFryXZXMnBpSfU0b2fL76HQMg1_0g9yKji3onw,1525
-odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/METADATA,sha256=FRwmU93sS_WtxvWgxXe1TiTC6F8pj8NFIr6eBEow5Cs,3494
-odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo12_addon_product_intercompany_account-12.0.1.0.2.dist-info/RECORD,,
+odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA,sha256=Hy79akCyZogDBv6lgefZPB56FPYGR3Mhgcl5_jpT6SA,3494
+odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD,,
```

