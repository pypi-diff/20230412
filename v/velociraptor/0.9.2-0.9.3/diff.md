# Comparing `tmp/velociraptor-0.9.2-py3-none-any.whl.zip` & `tmp/velociraptor-0.9.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,10 +1,10 @@
-Zip file size: 52236 bytes, number of entries: 34
+Zip file size: 52332 bytes, number of entries: 34
 -rw-r--r--  2.0 unx     1890 b- defN 20-Aug-26 11:11 velociraptor/__init__.py
--rw-r--r--  2.0 unx       22 b- defN 20-Aug-28 09:00 velociraptor/__version__.py
+-rw-r--r--  2.0 unx       22 b- defN 20-Sep-08 08:28 velociraptor/__version__.py
 -rw-r--r--  2.0 unx      448 b- defN 20-Aug-26 11:11 velociraptor/exceptions.py
 -rw-r--r--  2.0 unx      207 b- defN 20-Aug-26 11:11 velociraptor/regex.py
 -rw-r--r--  2.0 unx     5092 b- defN 20-Aug-26 11:11 velociraptor/units.py
 -rw-r--r--  2.0 unx     3707 b- defN 20-Aug-28 09:00 velociraptor/autoplotter/__init__.py
 -rw-r--r--  2.0 unx     9800 b- defN 20-Aug-28 09:00 velociraptor/autoplotter/lines.py
 -rw-r--r--  2.0 unx     6601 b- defN 20-Aug-28 09:00 velociraptor/autoplotter/metadata.py
 -rw-r--r--  2.0 unx    28953 b- defN 20-Aug-28 09:00 velociraptor/autoplotter/objects.py
@@ -22,15 +22,15 @@
 -rw-r--r--  2.0 unx    10107 b- defN 20-Aug-26 11:11 velociraptor/particles/particles.py
 -rw-r--r--  2.0 unx      102 b- defN 20-Aug-26 11:11 velociraptor/swift/__init__.py
 -rw-r--r--  2.0 unx     4096 b- defN 20-Aug-26 11:11 velociraptor/swift/swift.py
 -rw-r--r--  2.0 unx      286 b- defN 20-Aug-26 11:11 velociraptor/tools/__init__.py
 -rw-r--r--  2.0 unx     3936 b- defN 20-Aug-26 11:11 velociraptor/tools/histogram.py
 -rw-r--r--  2.0 unx     1323 b- defN 20-Aug-26 11:11 velociraptor/tools/labels.py
 -rw-r--r--  2.0 unx     7366 b- defN 20-Aug-26 11:11 velociraptor/tools/lines.py
--rw-r--r--  2.0 unx     9176 b- defN 20-Aug-28 09:00 velociraptor/tools/mass_functions.py
--rwxr-xr-x  2.0 unx     4728 b- defN 20-Aug-28 09:00 velociraptor-0.9.2.data/scripts/velociraptor-plot
--rw-r--r--  2.0 unx     7641 b- defN 20-Aug-28 09:00 velociraptor-0.9.2.dist-info/LICENSE.md
--rw-r--r--  2.0 unx     3114 b- defN 20-Aug-28 09:00 velociraptor-0.9.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 20-Aug-28 09:00 velociraptor-0.9.2.dist-info/WHEEL
--rw-r--r--  2.0 unx       13 b- defN 20-Aug-28 09:00 velociraptor-0.9.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3004 b- defN 20-Aug-28 09:00 velociraptor-0.9.2.dist-info/RECORD
-34 files, 183978 bytes uncompressed, 47364 bytes compressed:  74.3%
+-rw-r--r--  2.0 unx     9517 b- defN 20-Sep-08 08:28 velociraptor/tools/mass_functions.py
+-rwxr-xr-x  2.0 unx     4728 b- defN 20-Sep-08 08:29 velociraptor-0.9.3.data/scripts/velociraptor-plot
+-rw-r--r--  2.0 unx     7641 b- defN 20-Sep-08 08:29 velociraptor-0.9.3.dist-info/LICENSE.md
+-rw-r--r--  2.0 unx     3114 b- defN 20-Sep-08 08:29 velociraptor-0.9.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 20-Sep-08 08:29 velociraptor-0.9.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx       13 b- defN 20-Sep-08 08:29 velociraptor-0.9.3.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3004 b- defN 20-Sep-08 08:29 velociraptor-0.9.3.dist-info/RECORD
+34 files, 184319 bytes uncompressed, 47460 bytes compressed:  74.3%
```

## zipnote {}

```diff
@@ -78,26 +78,26 @@
 
 Filename: velociraptor/tools/lines.py
 Comment: 
 
 Filename: velociraptor/tools/mass_functions.py
 Comment: 
 
-Filename: velociraptor-0.9.2.data/scripts/velociraptor-plot
+Filename: velociraptor-0.9.3.data/scripts/velociraptor-plot
 Comment: 
 
-Filename: velociraptor-0.9.2.dist-info/LICENSE.md
+Filename: velociraptor-0.9.3.dist-info/LICENSE.md
 Comment: 
 
-Filename: velociraptor-0.9.2.dist-info/METADATA
+Filename: velociraptor-0.9.3.dist-info/METADATA
 Comment: 
 
-Filename: velociraptor-0.9.2.dist-info/WHEEL
+Filename: velociraptor-0.9.3.dist-info/WHEEL
 Comment: 
 
-Filename: velociraptor-0.9.2.dist-info/top_level.txt
+Filename: velociraptor-0.9.3.dist-info/top_level.txt
 Comment: 
 
-Filename: velociraptor-0.9.2.dist-info/RECORD
+Filename: velociraptor-0.9.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## velociraptor/__version__.py

```diff
@@ -1 +1 @@
-__version__ = "0.9.2"
+__version__ = "0.9.3"
```

## velociraptor/tools/mass_functions.py

```diff
@@ -252,19 +252,26 @@
             current_bin_count = 0
         else:
             # Nothing we can do! Let's just keep going and
             # hope we find more matches.
             pass
 
     # Clean up the last bin? We're gonna miss the largest N galaxies..
-    if current_bin_count > 0:
-        # We can do something!
+    if current_bin_count > 1:
+        # We can create a novel bin!
         bin_edges_right.append(mass)
         bin_medians.append(np.median(sorted_masses[current_lower_index : index + 1]))
         number_in_bin.append(current_bin_count)
+    elif current_bin_count == 1:
+        # Extend the previous bin (otherwise error is consistent with zero)
+        bin_edges_right[-1] = mass
+        number_in_bin[-1] += 1
+        bin_medians[-1] = np.median(sorted_masses[-number_in_bin[-1] :])
+        # We don't need the next bin now.
+        bin_edges_left = bin_edges_left[:-1]
     else:
         # This bin doesn't exist anyway, boo...
         bin_edges_left = bin_edges_left[:-1]
 
     bin_widths = [right - left for right, left in zip(bin_edges_right, bin_edges_left)]
 
     mass_function = [
```

## Comparing `velociraptor-0.9.2.data/scripts/velociraptor-plot` & `velociraptor-0.9.3.data/scripts/velociraptor-plot`

 * *Files identical despite different names*

## Comparing `velociraptor-0.9.2.dist-info/LICENSE.md` & `velociraptor-0.9.3.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `velociraptor-0.9.2.dist-info/METADATA` & `velociraptor-0.9.3.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: velociraptor
-Version: 0.9.2
+Version: 0.9.3
 Summary: Velociraptor catalogue reading routines.
 Home-page: https://github.com/swiftsim/velociraptor-python
 Author: Josh Borrow
 Author-email: joshua.borrow@durham.ac.uk
 License: UNKNOWN
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3.6
```

## Comparing `velociraptor-0.9.2.dist-info/RECORD` & `velociraptor-0.9.3.dist-info/RECORD`

 * *Files 18% similar despite different names*

```diff
@@ -1,9 +1,9 @@
 velociraptor/__init__.py,sha256=TgyPl9tvjuo6hNKB8eg3IOCpI3cPkfP_VNTcVw6MBdk,1890
-velociraptor/__version__.py,sha256=gqT-BGoeEItda9fICQDvLbxEjWRIBhFJxPxxKvmHLUo,22
+velociraptor/__version__.py,sha256=xKd3pzbczuMsdB08eLAOqZDUd_q1IRxwZ_ccAFL4c4A,22
 velociraptor/exceptions.py,sha256=xCSFWi9hSXdnh9MfhOn5xxtKYrVeqhEC5LQRS4BHvbY,448
 velociraptor/regex.py,sha256=slHG5jzxR8DpIcI73ZLye2JI9_s99crJMMS3s2Cgxzc,207
 velociraptor/units.py,sha256=Ryr7zcFQ5PNVyXY7zBHZYm2EODsUbm5ZWT_Gps-iOUk,5092
 velociraptor/autoplotter/__init__.py,sha256=uYj5M8YNiK9pQ1aayhmU3XuRww-efX-zaBW-R602rx0,3707
 velociraptor/autoplotter/lines.py,sha256=SpttQUq0GrQusn5nsnYLxPg-BGi8lS_KfbG-AqmfCoU,9800
 velociraptor/autoplotter/metadata.py,sha256=AUl_TMREvKk2xQi8ylrtm_RoNxY76Vvvdy4F0TBoLi8,6601
 velociraptor/autoplotter/objects.py,sha256=GWxfcr-VLsQGApKYGL2QZ6oJ34y_JUKq9IaElJpfyP4,28953
@@ -21,14 +21,14 @@
 velociraptor/particles/particles.py,sha256=NPQQRjYPduUMOY8f5uI-_yCcVuEuCW9YIQfB-yKq7nU,10107
 velociraptor/swift/__init__.py,sha256=dC4a7G_2n1xv7On8dHSaG-vUxUO2Uin4JNLNsnLWuZ8,102
 velociraptor/swift/swift.py,sha256=oKi0R0wwvn2w2zhw6vqVl9JDpQ3U9kfcvZYRN6jyTyQ,4096
 velociraptor/tools/__init__.py,sha256=6poCEM7wbkbt2UDs9kPaxGgE1TzGd85lKHMSAaQThY0,286
 velociraptor/tools/histogram.py,sha256=46bitx81LTNeo0EDJx6XZfD1lNxfok0XqQanIk-9XnU,3936
 velociraptor/tools/labels.py,sha256=X-5_zjT7ui8vrCnGU4QaaWZjQeoJ2USb-_dJyEh2Fjw,1323
 velociraptor/tools/lines.py,sha256=tee3VuP6ks1nM2SGRpf4yUBRqam5O0QdEhFJLtW6wxU,7366
-velociraptor/tools/mass_functions.py,sha256=_l5P6R8AfyzaJOiHrloHzIMgmOAaQizr7dnXuearxQs,9176
-velociraptor-0.9.2.data/scripts/velociraptor-plot,sha256=9iHdISphQoGwgcrmUbMkXVN2_mEeaNTnjslCBi_U2-w,4728
-velociraptor-0.9.2.dist-info/LICENSE.md,sha256=WlZ8v0OiCRCoDg-a2OGg6igUOxhh9sMaDRvA7SniR9g,7641
-velociraptor-0.9.2.dist-info/METADATA,sha256=5bIbQvlWlHlNfG9LqCvjjdqce5uYdCb5MHrLT6zdUIw,3114
-velociraptor-0.9.2.dist-info/WHEEL,sha256=EVRjI69F5qVjm_YgqcTXPnTAv3BfSUr0WVAHuSP3Xoo,92
-velociraptor-0.9.2.dist-info/top_level.txt,sha256=W-r2N_qlBX9HHRGqLNKgoCyRJQ_8CaR7bumb9mOOBFI,13
-velociraptor-0.9.2.dist-info/RECORD,,
+velociraptor/tools/mass_functions.py,sha256=2xisZ0eS91WSrt3iOLCBZ0PF5gMYfbcnge_qu1nvBto,9517
+velociraptor-0.9.3.data/scripts/velociraptor-plot,sha256=9iHdISphQoGwgcrmUbMkXVN2_mEeaNTnjslCBi_U2-w,4728
+velociraptor-0.9.3.dist-info/LICENSE.md,sha256=WlZ8v0OiCRCoDg-a2OGg6igUOxhh9sMaDRvA7SniR9g,7641
+velociraptor-0.9.3.dist-info/METADATA,sha256=ezIZ-gnPhm36MdQeg-VCNsaFbKcvrVhVL4DLzRzIGx4,3114
+velociraptor-0.9.3.dist-info/WHEEL,sha256=EVRjI69F5qVjm_YgqcTXPnTAv3BfSUr0WVAHuSP3Xoo,92
+velociraptor-0.9.3.dist-info/top_level.txt,sha256=W-r2N_qlBX9HHRGqLNKgoCyRJQ_8CaR7bumb9mOOBFI,13
+velociraptor-0.9.3.dist-info/RECORD,,
```

